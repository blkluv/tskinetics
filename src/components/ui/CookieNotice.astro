---
// Cookie notice component
---

<div
    id="cookie-notice"
    class="fixed bottom-0 left-0 right-0 bg-black/90 backdrop-blur-sm border-t border-gray-700/50 p-4 z-50 transform translate-y-full transition-transform duration-500"
>
    <div
        class="max-w-7xl mx-auto flex flex-col sm:flex-row items-center justify-between gap-4 text-sm"
    >
        <div class="text-gray-300 leading-relaxed">
            This site uses embedded Gumroad content, which may set cookies for
            payments and analytics. We do not set cookies ourselves. See
            Gumroad's
            <a
                href="https://gumroad.com/privacy"
                target="_blank"
                rel="noopener noreferrer"
                class="text-purple-400 hover:text-purple-300 underline transition-colors"
            >
                PRIVACY POLICY
            </a>
            for details.
        </div>
        <div class="flex items-center gap-3">
            <button
                id="accept-cookies"
                class="bg-purple-600 hover:bg-purple-700 text-white px-4 py-2 rounded-lg text-sm font-medium transition-colors"
            >
                Accept
            </button>
            <button
                id="dismiss-cookies"
                class="text-gray-400 hover:text-white px-3 py-2 text-sm transition-colors"
            >
                Dismiss
            </button>
        </div>
    </div>
</div>

<script>
    document.addEventListener("DOMContentLoaded", function () {
        const cookieNotice = document.getElementById("cookie-notice");
        const acceptBtn = document.getElementById("accept-cookies");
        const dismissBtn = document.getElementById("dismiss-cookies");

        // Check if user has already accepted cookies
        const cookiesAccepted = localStorage.getItem("cookies-accepted");

        if (!cookiesAccepted && cookieNotice) {
            // Show the notice after a short delay
            setTimeout(() => {
                cookieNotice.classList.remove("translate-y-full");
            }, 1000);
        }

        // Accept cookies
        if (acceptBtn) {
            acceptBtn.addEventListener("click", function () {
                localStorage.setItem("cookies-accepted", "true");
                hideNotice();
            });
        }

        // Dismiss notice
        if (dismissBtn) {
            dismissBtn.addEventListener("click", function () {
                hideNotice();
            });
        }

        function hideNotice() {
            if (cookieNotice) {
                cookieNotice.classList.add("translate-y-full");
                // Remove from DOM after animation
                setTimeout(() => {
                    cookieNotice.remove();
                }, 500);
            }
        }
    });
</script>

